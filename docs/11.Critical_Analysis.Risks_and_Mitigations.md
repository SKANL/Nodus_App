# 11. Critical Analysis: Risks & Mitigations

> **Verdict:** ⚠️ **MANAGED RISK**
> **Summary:** The "Firefly" protocol mitigates the "Broadcast Storm" risk, but iOS background limits remain the hard constraint.

## 1. The Core Risks

### A. The "iOS Killer" (Hardware Constraint)

**Risk:** iOS devices in the pocket cannot reliably relay data.
**Mitigation:** The "Firefly" logic **excludes** background iOS devices from the candidate pool. They can only be "Links" while the user is actively voting (App in Foreground).

- _Fallback:_ Android devices carry the bulk of the background relay usage.

### B. The "Broadcast Storm" (Physics Constraint)

**Risk:** 50 nodes advertising at once kills the 2.4GHz spectrum.
**Mitigation:** The **Trickle Algorithm**.

- Nodes check for _Redundancy_ (`k=2`). If 2 neighbors are already helping, stay silent.
- This ensures that in a room of 50 people, only ~5-8 are ever advertising as relays simultaneously.

---

## 2. Dynamic vs. Static (Why we pivoted)

| Feature             | Old "Static" Mesh             | New "Firefly" Chain           |
| :------------------ | :---------------------------- | :---------------------------- |
| **Relay Selection** | Manual / Fixed                | Automatic / Signal-Based      |
| **Battery Impact**  | High (Heroes die fast)        | Low (Load is distributed)     |
| **Congestion**      | High (Always on)              | **Low** (Only on when needed) |
| **Reliability**     | Low (Single point of failure) | **High** (Self-healing)       |

## 3. Fallback Strategy (The "Mule")

If the Firefly algorithms fail (e.g., too much interference, no paths found):

- **Behavior:** The App reverts to **"Mule Mode"**.
- **UI:** "Unable to reach swarm. Data saved locally. Please approach the stage."
- **Guarantee:** No data is ever lost. It just travels more slowly (walking speed).

## 4. Conclusion

The **Firefly Protocol** is the correct architecture for this constraint set. It acknowledges the hostility of the environment (RF noise, OS limits) and uses randomness to survive it.
