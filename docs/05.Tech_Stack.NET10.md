# 05. Tech Stack (.NET 10 / MAUI)

> **Status:** Draft
> **Platform Target:** High-End Mobile & Desktop

## 1. Core Framework

- **Language:** C# 14 (Proposed for .NET 10)
- **Runtime:** .NET 10 Preview (Use latest Daily/Preview builds)
- **UI Framework:** .NET MAUI (Multi-platform App UI)
  - **Android:** API 35+ Target.
  - **iOS:** iOS 18+ Target.
  - **Windows:** Windows App SDK (WinUI 3).

## 2. Essential NuGets (The "Gold Standard")

| Package                           | Purpose      | Why?                                                                              |
| :-------------------------------- | :----------- | :-------------------------------------------------------------------------------- |
| **`Shiny.BluetoothLE`**           | BLE Driver   | The only library with robust "Background BLE" and "GATT Server" support for .NET. |
| **`Shiny.BluetoothLE.Hosting`**   | GATT Server  | Critical for the "Server" and "Hero Bridge" roles.                                |
| **`sqlite-net-pcl`**              | Database     | Fastest ORM for mobile. Zero overhead.                                            |
| **`SQLitePCLRaw.bundle_green`**   | Native Libs  | Required native SQLite drivers.                                                   |
| **`CommunityToolkit.Mvvm`**       | Architecture | Source Generators for `ObservableProperty` and `RelayCommand`.                    |
| **`BarcodeScanning.Native.Maui`** | QR Scanner   | Uses Google ML Kit / Apple Vision (Native speed vs ZXing's lag).                  |
| **`QRCoder`**                     | QR Generator | To generate the on-screen keys.                                                   |
| **`SkiaSharp`**                   | Graphics     | If custom drawing/charts are needed for the Admin Dashboard.                      |

## 3. Architecture Pattern

**MVVM (Model-View-ViewModel)** with **Clean Architecture** services.

- `Services/`: `BluetoothService`, `SyncService`, `CryptoService`.
- `ViewModels/`: `VotingViewModel`, `HomeViewModel`.
- `Models/`: (Shared DTOs) `Vote`, `Packet`, `User`.

## 4. Development Environment

- **IDE:** Visual Studio 2026 (Preview) or VS Code with C# Dev Kit.
- **Hardware:**
  - Must have a physical Android Device (Emulator does NOT support Bluetooth).
  - Must have a Windows Laptop with Bluetooth 5.0+ support (or Dongle).

## 5. Critical Code Convention

**Async/Await:** Strict usage. BLE operations are inherently asynchronous.
**CancellationTokens:** All BLE operations must support cancellation to prevent "hanging" connection attempts.
