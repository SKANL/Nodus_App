<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodel="clr-namespace:Nodus.Client.ViewModels"
             x:Class="Nodus.Client.Views.ConnectionProgressPage"
             Title="Connecting..."
             Shell.PresentationMode="ModalAnimated"
             BackgroundColor="{StaticResource BackgroundColor}">

    <VerticalStackLayout Spacing="25" Padding="30" VerticalOptions="Center" HorizontalOptions="Center">
        
        <ActivityIndicator IsRunning="True" Color="{StaticResource Primary}" WidthRequest="60" HeightRequest="60" IsVisible="{Binding IsConnecting}" />
        <Image Source="dotnet_bot.png" WidthRequest="60" HeightRequest="60" IsVisible="{Binding IsConnected}" />
        
        <Label Text="{Binding StatusMessage}" 
               FontSize="22" 
               FontAttributes="Bold" 
               HorizontalTextAlignment="Center" />
        
        <Label Text="{Binding DetailMessage}"
               FontSize="16"
               TextColor="{StaticResource TextMuted}"
               HorizontalTextAlignment="Center" />

        <Button Text="Cancelar" 
                Command="{Binding CancelCommand}"
                BackgroundColor="Transparent"
                TextColor="{StaticResource TextMuted}"
                IsVisible="{Binding IsConnecting}"
                Margin="0, 40, 0, 0"/>
        
        <Button Text="Comenzar" 
                Command="{Binding ContinueCommand}"
                Style="{StaticResource PrimaryButton}"
                IsVisible="{Binding IsConnected}"
                Margin="0, 40, 0, 0"/>
                
    </VerticalStackLayout>
</ContentPage>
